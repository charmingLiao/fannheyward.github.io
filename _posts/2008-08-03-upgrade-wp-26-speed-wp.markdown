---
layout: post
title: "升级到wordpress 2.6，尝试加速wordpress"
---

话说wordpress 2.6发布都快一个月了，一直懒得升级。说实话，wp现在的功能是越来越强大，不可避免的，体积也相应的越来越臃肿。对我来说，也就偶尔写个东西发发牢骚，没必要跟进更新那么快，不过今天实在是无聊，就顺手把升级一下wp，顺带更新/安装了几个插件，记录一下。

* wordpress从安装上到现在已经升级过多次，相对来说非常简单。第一步备份，比较懒的办法就是全站备份，简单一点只备份数据库即可。
* 登入后台禁用全部插件。wp-config.php文件变化比较大，才发现现在的wp-config.php文件版本居然还是wp 2.1时候的，-_-|||。更新之，发现多了很多新鲜玩意，secret-key，这个好象是从wp 2.5时候加入的新功能，安全性的考虑，加入.
* wp 2.6加入了类似WIKI的文章编辑修订功能，就是你可以恢复到以前的文章编辑状态，自己写东西感觉实在是个鸡肋，多人写博客倒还是个好东西，况且，每保存一个状态就会在数据库posts中插入一个记录，这样的后果就是数据库爆掉，数据多了查询速度也会慢下来，所以，禁用之。在wp-config.php中间添加一句代码： `define('WP_POST_REVISIONS', false);`
* 上传覆盖所有文件，运行升级/wp-admin/upgrade.php，很顺利，然后再启用插件，over!

升级后发现登录后台速度慢了好多，得，正好有时间，把老早就想的页面静态化做一下吧。用的是 [cos-html-cache](http://www.storyday.com/tag/cos-html-cache)，效果先看看再说。

今天心情算是差到了极点，写东西都没有条理了，算是废了。
